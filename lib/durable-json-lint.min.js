(function(){var a,b,c;a=typeof module=="undefined"?window.esprima:require("esprima"),b=typeof module=="undefined"?window.falafel:require("free-falafel"),c=function(c){var d,e,f,g,h,i,j,k,l;l="(function(){return "+c+";})();";try{d=a.parse(l,{range:!0,tolerant:!0,loc:!0,raw:!0})}catch(m){return m.status="crash",{errors:[m],json:null}}return i=/^(?:-?(?=[1-9]|0(?!\d))\d+(\.\d+)?([eE][+-]?\d+)?|true|false|null|"([^"\\]|(?:\\["\\\/bfnrt])|(?:\\u[\][0-9a-f]{4}))*")$/,h=[],f=function(a,b,c){h.push({lineNumber:a.loc.start.line,column:a.loc.start.column,description:c,status:b});if(a.loc.start.line===1)return h[h.length-1].column-=19},k=null,e=function(a){var b;k===null&&(a.valid=!0),k===null&&a.type==="ReturnStatement"&&(k=a.argument);if(a.valid!=null)return;if(!a.parent.valid){a.valid=!1;return}switch(a.type){case"Literal":if(i.test(a.raw))return a.valid=!0;a.valid=!1;switch(a.raw[0]){case"'":f(a,"correctable","Json strings must use double quotes");break;case'"':f(a,"correctable","Invalid Json string");break;default:f(a,"correctable","Invalid Json number")}return a.correct=JSON.stringify(a.value);case"ObjectExpression":case"ArrayExpression":return a.valid=!0;case"Property":a.valid=!0,b=a.key;if(b.type==="Identifier")return f(b,"correctable",'Keys must be double quoted in Json. Did you mean "'+b.name+'"?'),b.valid=!1,b.correct=JSON.stringify(b.name);if(b.type==="Literal"&&typeof b.value=="number")return f(b,"correctable",'Keys must be double quoted in Json. Did you mean "'+b.raw+'"?'),b.valid=!1,b.correct=JSON.stringify(b.raw);break;case"Identifier":return a.valid=!1,f(a,"guessable",'An identifier is not a valid Json element. Did you mean "'+a.name+'"?'),a.correct=JSON.stringify(a.name);case"CallExpression":return a.valid=!1,f(a,"fail","You can not make function calls in Json. Do you think I am a fool?");default:return a.valid=!1,f(a,"fail",'A "'+a.type+'" is an invalid Json element.')}},g=function(a){if(a.valid)return;a.correct!=null?a.update(a.correct):a.update("null")},j=b(l,{ast:d},g,e).toString(),j=j.substring(19,j.length-6),{json:j,errors:h}},typeof module=="undefined"?window.durableJsonLint=c:module.exports=c}).call(this)